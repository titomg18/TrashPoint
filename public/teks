<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dashboard - TrashPoint</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f9fafb;
            overflow-x: hidden;
        }

        .sidebar {
            transition: all 0.3s ease;
            height: 100vh;
            overflow-y: auto;
            left: -100%; /* Sidebar disembunyikan di mobile secara default */
        }

        @media (min-width: 769px) {
            .sidebar {
                left: 0; /* Sidebar ditampilkan di desktop */
            }
        }

        @media (max-width: 768px) {
            .sidebar.active {
                left: 0; /* Sidebar ditampilkan saat aktif di mobile */
                box-shadow: 4px 0 15px rgba(0,0,0,0.1);
            }
            .overlay {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(0,0,0,0.5);
                z-index: 40;
                backdrop-filter: blur(2px);
            }
            .overlay.active {
                display: block;
            }
            
            /* Improve tap targets on mobile */
            button, a, input, select {
                min-height: 44px;
            }
            
            .nav-link {
                padding: 12px 16px;
            }
        }

        /* Mobile first adjustments */
        @media (max-width: 640px) {
            .container-padding {
                padding-left: 16px;
                padding-right: 16px;
            }
            
            .stats-card {
                padding: 20px 16px;
            }
            
            .welcome-banner {
                padding: 20px !important;
            }
            
            .form-input, .form-select, .form-textarea {
                font-size: 16px !important; /* Prevents zoom on iOS */
            }
        }

        /* Tablet adjustments */
        @media (min-width: 641px) and (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }
            .main-content {
                margin-left: 240px;
            }
        }

        .logo-color {
            color: #10b981;
        }
        .btn-primary {
            background: linear-gradient(to right, #10b981, #34d399);
        }
        .btn-primary:hover {
            background: linear-gradient(to right, #0da271, #2bb184);
        }
        .stats-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .nav-link.active {
            background-color: #d1fae5;
            color: #047857;
        }
        .content-page {
            display: none;
        }
        .content-page.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
        
        /* Table responsive */
        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Chart container */
        .chart-container {
            position: relative;
            height: 250px;
            width: 100%;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        
        @media (min-width: 1024px) {
            .chart-container {
                height: 320px;
            }
        }
        
        /* Mobile menu button */
        .menu-toggle {
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Notifications dropdown for mobile */
        @media (max-width: 768px) {
            #notifDropdown {
                position: fixed;
                top: 70px;
                left: 50%;
                transform: translateX(-50%);
                width: 90%;
                max-width: 400px;
                max-height: 70vh;
                overflow-y: auto;
            }
        }
    </style>
</head>

<body class="bg-gray-50">

<!-- Overlay Mobile -->
<div class="overlay" id="overlay"></div>

<!-- Sidebar -->
<div id="sidebar" class="sidebar bg-white w-64 min-h-screen shadow-lg fixed top-0 z-50">

    <!-- Logo -->
    <div class="p-4 md:p-6 border-b">
        <div class="flex items-center">
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white flex items-center justify-center mr-3">
                <i class="fas fa-recycle"></i>
            </div>
            <h1 class="text-xl font-bold text-gray-800">Trash<span class="logo-color">Point</span></h1>
        </div>
        <p class="text-sm text-gray-600 mt-2">Mari berusaha sama menuju lingkungan yang bersih dan sehat</p>
    </div>

    <!-- User -->
    <div class="p-4 md:p-6 border-b">
        <div class="flex items-center">
            <div class="w-12 h-12 rounded-full bg-gradient-to-br from-emerald-400 to-green-500 text-white flex items-center justify-center text-lg font-bold">
                T
            </div>
            <div class="ml-4">
                <h2 class="font-semibold text-gray-800">Tito Suryanto</h2>
                <div class="flex items-center mt-1">
                    <span class="px-2 py-1 text-xs bg-emerald-100 text-emerald-800 rounded-full">Pengguna</span>
                    <span class="ml-2 text-xs text-gray-500">Member Silver</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu -->
    <nav class="p-2 md:p-4">
        <ul class="space-y-1">
            <li>
                <a href="#" data-page="dashboard" class="flex items-center p-3 rounded-lg nav-link active">
                    <i class="fas fa-home mr-3 text-emerald-600 w-5"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="#" data-page="setor-sampah" class="flex items-center p-3 rounded-lg nav-link hover:bg-emerald-50 hover:text-emerald-700 transition">
                    <i class="fas fa-trash-alt mr-3 text-gray-500 w-5"></i>
                    <span>Setor Sampah</span>
                    <span class="ml-auto bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded-full">Baru</span>
                </a>
            </li>
            <li>
                <a href="#" data-page="poin-saya" class="flex items-center p-3 rounded-lg nav-link hover:bg-emerald-50 hover:text-emerald-700 transition">
                    <i class="fas fa-coins mr-3 text-gray-500 w-5"></i>
                    <span>Poin Saya</span>
                </a>
            </li>
            <li>
                <a href="#" data-page="riwayat-transaksi" class="flex items-center p-3 rounded-lg nav-link hover:bg-emerald-50 hover:text-emerald-700 transition">
                    <i class="fas fa-history mr-3 text-gray-500 w-5"></i>
                    <span>Riwayat Transaksi</span>
                </a>
            </li>
            <li>
                <a href="#" data-page="laporan-bulanan" class="flex items-center p-3 rounded-lg nav-link hover:bg-emerald-50 hover:text-emerald-700 transition">
                    <i class="fas fa-chart-bar mr-3 text-gray-500 w-5"></i>
                    <span>Laporan Bulanan</span>
                </a>
            </li>
            <li>
                <a href="#" data-page="tukar-poin" class="flex items-center p-3 rounded-lg nav-link hover:bg-emerald-50 hover:text-emerald-700 transition">
                    <i class="fas fa-exchange-alt mr-3 text-gray-500 w-5"></i>
                    <span>Tukar Poin</span>
                </a>
            </li>
            <li>
                <a href="#" data-page="profil-saya" class="flex items-center p-3 rounded-lg nav-link hover:bg-emerald-50 hover:text-emerald-700 transition">
                    <i class="fas fa-user-circle mr-3 text-gray-500 w-5"></i>
                    <span>Profil Saya</span>
                </a>
            </li>
            <li class="pt-6 border-t mt-4">
                <button id="logoutBtn" class="flex items-center p-3 rounded-lg w-full text-left hover:bg-red-50 hover:text-red-700 transition">
                    <i class="fas fa-sign-out-alt mr-3 text-gray-500 w-5"></i>
                    <span>Keluar</span>
                </button>
            </li>
        </ul>
    </nav>
</div>

<!-- MAIN WRAPPER -->
<div class="ml-0 md:ml-64 transition-all min-h-screen">

    <!-- Header -->
    <header class="bg-white shadow-sm py-3 px-4 md:px-6 sticky top-0 z-30">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <button id="menuToggle" class="menu-toggle md:hidden text-gray-700 mr-3">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                <h2 id="pageTitle" class="text-lg md:text-xl font-semibold text-gray-800">Dashboard</h2>
            </div>
            <div class="flex items-center space-x-2 md:space-x-4">
                <div class="relative">
                    <button id="notifBtn" class="relative p-2 text-gray-600 hover:text-emerald-600 transition">
                        <i class="fas fa-bell text-lg md:text-xl"></i>
                        <span id="notifCount" class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    <div id="notifDropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50 border">
                        <div class="p-4 border-b">
                            <h3 class="font-semibold text-gray-800">Notifikasi</h3>
                        </div>
                        <div class="max-h-64 overflow-y-auto">
                            <div class="p-3 border-b hover:bg-gray-50">
                                <p class="text-sm">üéâ Poin Anda bertambah 50 dari setor sampah plastik</p>
                                <p class="text-xs text-gray-500">2 jam yang lalu</p>
                            </div>
                            <div class="p-3 border-b hover:bg-gray-50">
                                <p class="text-sm">üì¢ Event daur ulang minggu ini di Bank Sampah Hijau</p>
                                <p class="text-xs text-gray-500">1 hari yang lalu</p>
                            </div>
                        </div>
                    </div>
                </div>
                <button id="quickSetorSampah" class="btn-primary text-white px-3 md:px-4 py-2 rounded-lg font-medium flex items-center text-sm md:text-base">
                    <i class="fas fa-plus mr-1 md:mr-2"></i> 
                    <span class="hidden sm:inline">Setor Sampah</span>
                    <span class="sm:hidden">Setor</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Content -->
    <main class="p-4 md:p-6 container-padding">
        <!-- Dashboard Page -->
        <div id="dashboard" class="content-page active">
            <!-- Welcome Banner -->
            <div class="welcome-banner bg-gradient-to-r from-emerald-500 to-green-600 rounded-xl p-4 md:p-6 text-white mb-6">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                    <div class="mb-4 md:mb-0">
                        <h1 class="text-xl md:text-2xl font-bold mb-2">Selamat datang, Tito!</h1>
                        <p class="opacity-90 text-sm md:text-base">Total 12.450 poin terkumpul. Terima kasih telah berkontribusi menjaga lingkungan.</p>
                    </div>
                    <div class="bg-white/20 px-3 md:px-4 py-2 rounded-lg w-full md:w-auto">
                        <p class="text-sm">Anggota sejak</p>
                        <p class="font-bold text-sm md:text-base">15 Maret 2024</p>
                    </div>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-8">
                <div class="stats-card bg-white p-4 md:p-6 rounded-xl shadow border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-xs md:text-sm">Total Poin</p>
                            <h3 class="text-xl md:text-2xl font-bold text-gray-800">12,450</h3>
                        </div>
                        <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-emerald-100 flex items-center justify-center">
                            <i class="fas fa-coins text-emerald-600 text-lg md:text-xl"></i>
                        </div>
                    </div>
                    <p class="text-xs md:text-sm text-emerald-600 mt-2">+250 poin minggu ini</p>
                </div>

                <div class="stats-card bg-white p-4 md:p-6 rounded-xl shadow border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-xs md:text-sm">Total Setoran</p>
                            <h3 class="text-xl md:text-2xl font-bold text-gray-800">47</h3>
                        </div>
                        <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-blue-100 flex items-center justify-center">
                            <i class="fas fa-trash-alt text-blue-600 text-lg md:text-xl"></i>
                        </div>
                    </div>
                    <p class="text-xs md:text-sm text-blue-600 mt-2">2 setoran bulan ini</p>
                </div>

                <div class="stats-card bg-white p-4 md:p-6 rounded-xl shadow border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-xs md:text-sm">Sampah Didaur Ulang</p>
                            <h3 class="text-xl md:text-2xl font-bold text-gray-800">128 kg</h3>
                        </div>
                        <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-purple-100 flex items-center justify-center">
                            <i class="fas fa-recycle text-purple-600 text-lg md:text-xl"></i>
                        </div>
                    </div>
                    <p class="text-xs md:text-sm text-purple-600 mt-2">‚âà 5 pohon terselamatkan</p>
                </div>

                <div class="stats-card bg-white p-4 md:p-6 rounded-xl shadow border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500 text-xs md:text-sm">Peringkat</p>
                            <h3 class="text-xl md:text-2xl font-bold text-gray-800">#24</h3>
                        </div>
                        <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-amber-100 flex items-center justify-center">
                            <i class="fas fa-trophy text-amber-600 text-lg md:text-xl"></i>
                        </div>
                    </div>
                    <p class="text-xs md:text-sm text-amber-600 mt-2">Top 10% pengguna aktif</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6">
                <!-- Chart Section -->
                <div class="lg:col-span-2">
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-4 md:mb-6 gap-2">
                            <h3 class="font-bold text-gray-800 text-sm md:text-base">Aktivitas Setor Sampah (7 Hari Terakhir)</h3>
                            <select class="border rounded-lg px-3 py-2 text-sm w-full md:w-auto form-select">
                                <option>Minggu ini</option>
                                <option>Bulan ini</option>
                                <option>Tahun ini</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="activityChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Recent Transactions -->
                <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                    <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Transaksi Terbaru</h3>
                    <div class="space-y-3 max-h-48 md:max-h-64 overflow-y-auto custom-scrollbar">
                        <div class="flex items-center justify-between p-3 bg-emerald-50 rounded-lg">
                            <div class="flex items-center min-w-0">
                                <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-emerald-100 flex items-center justify-center mr-2 md:mr-3 flex-shrink-0">
                                    <i class="fas fa-trash text-emerald-600 text-sm md:text-base"></i>
                                </div>
                                <div class="min-w-0">
                                    <p class="font-medium text-sm md:text-base truncate">Setor Plastik</p>
                                    <p class="text-xs text-gray-500">Hari ini, 10:30</p>
                                </div>
                            </div>
                            <div class="text-right flex-shrink-0 ml-2">
                                <p class="font-bold text-emerald-600 text-sm md:text-base">+50 poin</p>
                                <p class="text-xs text-gray-500">2.5 kg</p>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                            <div class="flex items-center min-w-0">
                                <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-blue-100 flex items-center justify-center mr-2 md:mr-3 flex-shrink-0">
                                    <i class="fas fa-wine-bottle text-blue-600 text-sm md:text-base"></i>
                                </div>
                                <div class="min-w-0">
                                    <p class="font-medium text-sm md:text-base truncate">Setor Kaca</p>
                                    <p class="text-xs text-gray-500">Kemarin, 14:20</p>
                                </div>
                            </div>
                            <div class="text-right flex-shrink-0 ml-2">
                                <p class="font-bold text-blue-600 text-sm md:text-base">+30 poin</p>
                                <p class="text-xs text-gray-500">1.8 kg</p>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-amber-50 rounded-lg">
                            <div class="flex items-center min-w-0">
                                <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-amber-100 flex items-center justify-center mr-2 md:mr-3 flex-shrink-0">
                                    <i class="fas fa-gift text-amber-600 text-sm md:text-base"></i>
                                </div>
                                <div class="min-w-0">
                                    <p class="font-medium text-sm md:text-base truncate">Tukar Hadiah</p>
                                    <p class="text-xs text-gray-500">2 hari lalu</p>
                                </div>
                            </div>
                            <div class="text-right flex-shrink-0 ml-2">
                                <p class="font-bold text-amber-600 text-sm md:text-base">-200 poin</p>
                                <p class="text-xs text-gray-500">Voucher Belanja</p>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                            <div class="flex items-center min-w-0">
                                <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-green-100 flex items-center justify-center mr-2 md:mr-3 flex-shrink-0">
                                    <i class="fas fa-newspaper text-green-600 text-sm md:text-base"></i>
                                </div>
                                <div class="min-w-0">
                                    <p class="font-medium text-sm md:text-base truncate">Setor Kertas</p>
                                    <p class="text-xs text-gray-500">3 hari lalu</p>
                                </div>
                            </div>
                            <div class="text-right flex-shrink-0 ml-2">
                                <p class="font-bold text-green-600 text-sm md:text-base">+40 poin</p>
                                <p class="text-xs text-gray-500">4.2 kg</p>
                            </div>
                        </div>
                    </div>
                    <button class="w-full mt-4 text-emerald-600 hover:text-emerald-800 font-medium text-sm py-2">
                        Lihat semua transaksi <i class="fas fa-arrow-right ml-1"></i>
                    </button>
                </div>
            </div>

            <!-- Tips Section -->
            <div class="mt-6 md:mt-8 bg-white p-4 md:p-6 rounded-xl shadow border">
                <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">üí° Tips Daur Ulang</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 md:gap-4">
                    <div class="p-3 md:p-4 border rounded-lg hover:bg-emerald-50 transition">
                        <h4 class="font-semibold text-gray-800 mb-2 text-sm md:text-base">Pisahkan Sampah</h4>
                        <p class="text-xs md:text-sm text-gray-600">Pisahkan sampah organik, plastik, kertas, dan logam sejak awal untuk memudahkan daur ulang.</p>
                    </div>
                    <div class="p-3 md:p-4 border rounded-lg hover:bg-emerald-50 transition">
                        <h4 class="font-semibold text-gray-800 mb-2 text-sm md:text-base">Bersihkan Sebelum Setor</h4>
                        <p class="text-xs md:text-sm text-gray-600">Cuci botol plastik dan kaleng sebelum disetorkan untuk mendapatkan poin lebih.</p>
                    </div>
                    <div class="p-3 md:p-4 border rounded-lg hover:bg-emerald-50 transition">
                        <h4 class="font-semibold text-gray-800 mb-2 text-sm md:text-base">Kumpulkan Poin</h4>
                        <p class="text-xs md:text-sm text-gray-600">Tukar poin Anda menjadi hadiah menarik atau donasikan untuk program lingkungan.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Setor Sampah Page -->
        <div id="setor-sampah" class="content-page">
            <h1 class="text-xl md:text-2xl font-bold mb-4 md:mb-6">Setor Sampah</h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6">
                <!-- Form Setor -->
                <div class="lg:col-span-2">
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Form Setor Sampah</h3>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Jenis Sampah</label>
                                <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 md:gap-3">
                                    <button class="type-btn border rounded-lg p-3 md:p-4 text-center hover:border-emerald-500 hover:bg-emerald-50 transition" data-type="plastik" data-points="20">
                                        <i class="fas fa-bottle-water text-xl md:text-2xl text-blue-500 mb-1 md:mb-2"></i>
                                        <p class="font-medium text-sm md:text-base">Plastik</p>
                                        <p class="text-xs text-gray-500">20 poin/kg</p>
                                    </button>
                                    <button class="type-btn border rounded-lg p-3 md:p-4 text-center hover:border-emerald-500 hover:bg-emerald-50 transition" data-type="kertas" data-points="10">
                                        <i class="fas fa-newspaper text-xl md:text-2xl text-green-500 mb-1 md:mb-2"></i>
                                        <p class="font-medium text-sm md:text-base">Kertas</p>
                                        <p class="text-xs text-gray-500">10 poin/kg</p>
                                    </button>
                                    <button class="type-btn border rounded-lg p-3 md:p-4 text-center hover:border-emerald-500 hover:bg-emerald-50 transition" data-type="kaca" data-points="15">
                                        <i class="fas fa-wine-bottle text-xl md:text-2xl text-purple-500 mb-1 md:mb-2"></i>
                                        <p class="font-medium text-sm md:text-base">Kaca</p>
                                        <p class="text-xs text-gray-500">15 poin/kg</p>
                                    </button>
                                    <button class="type-btn border rounded-lg p-3 md:p-4 text-center hover:border-emerald-500 hover:bg-emerald-50 transition" data-type="logam" data-points="30">
                                        <i class="fas fa-cube text-xl md:text-2xl text-amber-500 mb-1 md:mb-2"></i>
                                        <p class="font-medium text-sm md:text-base">Logam</p>
                                        <p class="text-xs text-gray-500">30 poin/kg</p>
                                    </button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Berat Sampah (kg)</label>
                                <div class="flex items-center">
                                    <input type="range" min="0.5" max="50" step="0.5" value="2" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer form-input" id="weightSlider">
                                    <span id="weightValue" class="ml-4 font-bold text-emerald-600 min-w-16 text-sm md:text-base">2 kg</span>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500 mt-1">
                                    <span>0.5 kg</span>
                                    <span>50 kg</span>
                                </div>
                            </div>

                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Tanggal Setor</label>
                                <input type="date" class="w-full border rounded-lg p-3 form-input" value="<?php echo date('Y-m-d'); ?>">
                            </div>

                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Lokasi Bank Sampah</label>
                                <select class="w-full border rounded-lg p-3 form-select">
                                    <option>Bank Sampah Hijau - Jakarta Pusat</option>
                                    <option>Bank Sampah Bersih - Jakarta Selatan</option>
                                    <option>Bank Sampah Sejahtera - Jakarta Timur</option>
                                    <option>Bank Sampah Lestari - Jakarta Barat</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Catatan (Opsional)</label>
                                <textarea class="w-full border rounded-lg p-3 form-textarea" rows="3" placeholder="Tambahkan catatan mengenai sampah yang disetor..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Summary -->
                <div>
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border lg:sticky lg:top-24">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Ringkasan Setoran</h3>
                        
                        <div class="space-y-3 mb-6">
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Jenis Sampah:</span>
                                <span id="selectedType" class="font-medium text-sm md:text-base">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Berat:</span>
                                <span id="summaryWeight" class="font-medium text-sm md:text-base">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Poin per kg:</span>
                                <span id="pointsPerKg" class="font-medium text-sm md:text-base">-</span>
                            </div>
                            <hr class="my-2">
                            <div class="flex justify-between text-base md:text-lg font-bold">
                                <span class="text-sm md:text-base">Total Poin:</span>
                                <span id="totalPoints" class="text-emerald-600 text-sm md:text-base">0 poin</span>
                            </div>
                        </div>

                        <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-3 md:p-4 mb-6">
                            <h4 class="font-semibold text-emerald-800 mb-2 text-sm md:text-base">üí° Informasi</h4>
                            <p class="text-xs md:text-sm text-emerald-700">Pastikan sampah sudah bersih dan dikelompokkan sesuai jenisnya. Setoran akan diverifikasi oleh petugas bank sampah.</p>
                        </div>

                        <button id="submitSetor" class="btn-primary w-full text-white py-3 rounded-lg font-semibold flex items-center justify-center text-sm md:text-base">
                            <i class="fas fa-check-circle mr-2"></i> Konfirmasi Setor Sampah
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Poin Saya Page -->
        <div id="poin-saya" class="content-page">
            <h1 class="text-xl md:text-2xl font-bold mb-4 md:mb-6">Poin Saya</h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6">
                <!-- Poin Summary -->
                <div class="lg:col-span-2">
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border mb-4 md:mb-6">
                        <div class="flex flex-col md:flex-row md:items-center justify-between mb-4 md:mb-6 gap-4">
                            <div>
                                <p class="text-gray-500 text-sm md:text-base">Total Poin Saat Ini</p>
                                <h2 class="text-3xl md:text-4xl font-bold text-gray-800">12,450</h2>
                            </div>
                            <div class="text-right">
                                <p class="text-gray-500 text-sm md:text-base">Setara dengan</p>
                                <p class="text-lg md:text-xl font-bold text-emerald-600">Rp 124,500</p>
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-2">
                            <button class="bg-emerald-50 text-emerald-700 px-3 md:px-4 py-2 rounded-lg font-medium hover:bg-emerald-100 transition text-sm md:text-base">
                                Riwayat Poin
                            </button>
                            <button class="border border-emerald-600 text-emerald-600 px-3 md:px-4 py-2 rounded-lg font-medium hover:bg-emerald-50 transition text-sm md:text-base">
                                Tukar Poin
                            </button>
                            <button class="border border-gray-300 text-gray-700 px-3 md:px-4 py-2 rounded-lg font-medium hover:bg-gray-50 transition text-sm md:text-base">
                                Donasi Poin
                            </button>
                        </div>
                    </div>

                    <!-- Poin History Chart -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Perkembangan Poin (6 Bulan)</h3>
                        <div class="chart-container">
                            <canvas id="pointsChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Tukar Poin Options -->
                <div>
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Tukar Poin</h3>
                        
                        <div class="space-y-3 md:space-y-4">
                            <div class="border rounded-lg p-3 md:p-4 hover:border-emerald-500 transition cursor-pointer">
                                <div class="flex items-center justify-between">
                                    <div class="min-w-0">
                                        <h4 class="font-semibold text-sm md:text-base truncate">Voucher Belanja</h4>
                                        <p class="text-xs md:text-sm text-gray-600">Rp 50,000</p>
                                    </div>
                                    <div class="text-right flex-shrink-0 ml-2">
                                        <p class="font-bold text-amber-600 text-sm md:text-base">5,000 poin</p>
                                        <button class="text-emerald-600 text-xs md:text-sm hover:text-emerald-800">Tukar</button>
                                    </div>
                                </div>
                            </div>

                            <div class="border rounded-lg p-3 md:p-4 hover:border-emerald-500 transition cursor-pointer">
                                <div class="flex items-center justify-between">
                                    <div class="min-w-0">
                                        <h4 class="font-semibold text-sm md:text-base truncate">Pulsa 25.000</h4>
                                        <p class="text-xs md:text-sm text-gray-600">Semua Operator</p>
                                    </div>
                                    <div class="text-right flex-shrink-0 ml-2">
                                        <p class="font-bold text-amber-600 text-sm md:text-base">2,500 poin</p>
                                        <button class="text-emerald-600 text-xs md:text-sm hover:text-emerald-800">Tukar</button>
                                    </div>
                                </div>
                            </div>

                            <div class="border rounded-lg p-3 md:p-4 hover:border-emerald-500 transition cursor-pointer">
                                <div class="flex items-center justify-between">
                                    <div class="min-w-0">
                                        <h4 class="font-semibold text-sm md:text-base truncate">Paket Data 5GB</h4>
                                        <p class="text-xs md:text-sm text-gray-600">30 hari</p>
                                    </div>
                                    <div class="text-right flex-shrink-0 ml-2">
                                        <p class="font-bold text-amber-600 text-sm md:text-base">3,000 poin</p>
                                        <button class="text-emerald-600 text-xs md:text-sm hover:text-emerald-800">Tukar</button>
                                    </div>
                                </div>
                            </div>

                            <div class="border rounded-lg p-3 md:p-4 hover:border-emerald-500 transition cursor-pointer">
                                <div class="flex items-center justify-between">
                                    <div class="min-w-0">
                                        <h4 class="font-semibold text-sm md:text-base truncate">Donasi Lingkungan</h4>
                                        <p class="text-xs md:text-sm text-gray-600">Program penanaman pohon</p>
                                    </div>
                                    <div class="text-right flex-shrink-0 ml-2">
                                        <p class="font-bold text-amber-600 text-sm md:text-base">1,000 poin</p>
                                        <button class="text-emerald-600 text-xs md:text-sm hover:text-emerald-800">Donasi</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Riwayat Transaksi Page -->
        <div id="riwayat-transaksi" class="content-page">
            <h1 class="text-xl md:text-2xl font-bold mb-4 md:mb-6">Riwayat Transaksi</h1>
            
            <div class="bg-white rounded-xl shadow border overflow-hidden">
                <!-- Filter -->
                <div class="p-4 md:p-6 border-b">
                    <div class="flex flex-col md:flex-row md:items-center justify-between space-y-4 md:space-y-0">
                        <div class="flex flex-wrap gap-2">
                            <button class="px-3 md:px-4 py-2 bg-emerald-100 text-emerald-700 rounded-lg font-medium text-sm md:text-base">Semua</button>
                            <button class="px-3 md:px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm md:text-base">Setoran</button>
                            <button class="px-3 md:px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm md:text-base">Penukaran</button>
                            <button class="px-3 md:px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm md:text-base">Donasi</button>
                        </div>
                        <div class="flex flex-col sm:flex-row gap-2">
                            <input type="month" class="border rounded-lg p-2 text-sm md:text-base form-input" value="<?php echo date('Y-m'); ?>">
                            <button class="px-3 md:px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm md:text-base">
                                <i class="fas fa-download mr-1"></i> Export
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Table -->
                <div class="table-responsive">
                    <table class="w-full min-w-[600px]">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="p-3 md:p-4 text-left text-xs md:text-sm font-medium text-gray-700">Tanggal</th>
                                <th class="p-3 md:p-4 text-left text-xs md:text-sm font-medium text-gray-700">Jenis</th>
                                <th class="p-3 md:p-4 text-left text-xs md:text-sm font-medium text-gray-700">Keterangan</th>
                                <th class="p-3 md:p-4 text-left text-xs md:text-sm font-medium text-gray-700">Berat/Item</th>
                                <th class="p-3 md:p-4 text-left text-xs md:text-sm font-medium text-gray-700">Poin</th>
                                <th class="p-3 md:p-4 text-left text-xs md:text-sm font-medium text-gray-700">Status</th>
                            </tr>
                        </thead>
                        <tbody id="transactionTable">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="p-4 border-t flex flex-col sm:flex-row justify-between items-center gap-2">
                    <p class="text-gray-600 text-sm">Menampilkan 10 dari 47 transaksi</p>
                    <div class="flex space-x-1 md:space-x-2">
                        <button class="px-3 py-1 border rounded-lg text-sm md:text-base"><</button>
                        <button class="px-3 py-1 bg-emerald-600 text-white rounded-lg text-sm md:text-base">1</button>
                        <button class="px-3 py-1 border rounded-lg text-sm md:text-base">2</button>
                        <button class="px-3 py-1 border rounded-lg text-sm md:text-base">3</button>
                        <button class="px-3 py-1 border rounded-lg text-sm md:text-base">></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Laporan Bulanan Page -->
        <div id="laporan-bulanan" class="content-page">
            <h1 class="text-xl md:text-2xl font-bold mb-4 md:mb-6">Laporan Bulanan</h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6">
                <!-- Summary Cards -->
                <div class="lg:col-span-2">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 md:gap-4 mb-4 md:mb-6">
                        <div class="bg-white p-3 md:p-4 rounded-xl shadow border">
                            <p class="text-gray-500 text-xs md:text-sm">Bulan Ini</p>
                            <p class="text-lg md:text-xl font-bold text-gray-800">Maret 2024</p>
                        </div>
                        <div class="bg-white p-3 md:p-4 rounded-xl shadow border">
                            <p class="text-gray-500 text-xs md:text-sm">Total Setoran</p>
                            <p class="text-lg md:text-xl font-bold text-gray-800">2 kali</p>
                        </div>
                        <div class="bg-white p-3 md:p-4 rounded-xl shadow border">
                            <p class="text-gray-500 text-xs md:text-sm">Poin Didapat</p>
                            <p class="text-lg md:text-xl font-bold text-emerald-600">+80 poin</p>
                        </div>
                    </div>

                    <!-- Monthly Chart -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border mb-4 md:mb-6">
                        <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-4 md:mb-6 gap-2">
                            <h3 class="font-bold text-gray-800 text-sm md:text-base">Statistik 12 Bulan Terakhir</h3>
                            <select class="border rounded-lg px-3 py-2 text-sm md:text-base form-select">
                                <option>Poin</option>
                                <option>Berat Sampah</option>
                                <option>Jumlah Setoran</option>
                            </select>
                        </div>
                        <div class="chart-container" style="height: 280px;">
                            <canvas id="monthlyChart"></canvas>
                        </div>
                    </div>

                    <!-- Sampah Breakdown -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Komposisi Sampah</h3>
                        <div class="chart-container">
                            <canvas id="wasteChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar -->
                <div>
                    <!-- Achievements -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border mb-4 md:mb-6">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">üèÜ Pencapaian</h3>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-amber-50 rounded-lg">
                                <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-amber-100 flex items-center justify-center mr-2 md:mr-3 flex-shrink-0">
                                    <i class="fas fa-medal text-amber-600"></i>
                                </div>
                                <div class="min-w-0">
                                    <p class="font-medium text-sm md:text-base">Pengumpul Aktif</p>
                                    <p class="text-xs text-gray-600">10 setoran berturut-turut</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-emerald-50 rounded-lg">
                                <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-emerald-100 flex items-center justify-center mr-2 md:mr-3 flex-shrink-0">
                                    <i class="fas fa-leaf text-emerald-600"></i>
                                </div>
                                <div class="min-w-0">
                                    <p class="font-medium text-sm md:text-base">Penyelamat Lingkungan</p>
                                    <p class="text-xs text-gray-600">50kg sampah didaur ulang</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-blue-50 rounded-lg">
                                <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-blue-100 flex items-center justify-center mr-2 md:mr-3 flex-shrink-0">
                                    <i class="fas fa-star text-blue-600"></i>
                                </div>
                                <div class="min-w-0">
                                    <p class="font-medium text-sm md:text-base">Anggota Setia</p>
                                    <p class="text-xs text-gray-600">6 bulan berturut-turut</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tips -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">üìà Target Bulan Depan</h3>
                        <div class="mb-4">
                            <div class="flex justify-between mb-1 text-xs md:text-sm">
                                <span>Target Poin</span>
                                <span>120/150 poin</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-emerald-600 h-2 rounded-full" style="width: 80%"></div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="flex justify-between mb-1 text-xs md:text-sm">
                                <span>Target Berat</span>
                                <span>8/10 kg</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-600 h-2 rounded-full" style="width: 80%"></div>
                            </div>
                        </div>
                        <button class="w-full mt-4 bg-emerald-600 text-white py-2 md:py-3 rounded-lg font-medium hover:bg-emerald-700 transition text-sm md:text-base">
                            Tetapkan Target Baru
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tukar Poin Page -->
        <div id="tukar-poin" class="content-page">
            <h1 class="text-xl md:text-2xl font-bold mb-4 md:mb-6">Tukar Poin</h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 md:gap-6">
                <!-- Categories -->
                <div class="lg:col-span-1">
                    <div class="bg-white p-3 md:p-4 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-3 md:mb-4 text-sm md:text-base">Kategori</h3>
                        <div class="space-y-1 md:space-y-2">
                            <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-emerald-50 hover:text-emerald-700 transition text-sm md:text-base" data-category="all">
                                <i class="fas fa-gift mr-2"></i> Semua Hadiah
                            </button>
                            <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-emerald-50 hover:text-emerald-700 transition text-sm md:text-base" data-category="voucher">
                                <i class="fas fa-ticket-alt mr-2"></i> Voucher
                            </button>
                            <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-emerald-50 hover:text-emerald-700 transition text-sm md:text-base" data-category="pulsa">
                                <i class="fas fa-mobile-alt mr-2"></i> Pulsa & Data
                            </button>
                            <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-emerald-50 hover:text-emerald-700 transition text-sm md:text-base" data-category="donasi">
                                <i class="fas fa-hand-holding-heart mr-2"></i> Donasi
                            </button>
                            <button class="category-btn w-full text-left p-3 rounded-lg hover:bg-emerald-50 hover:text-emerald-700 transition text-sm md:text-base" data-category="produk">
                                <i class="fas fa-shopping-bag mr-2"></i> Produk Ramah Lingkungan
                            </button>
                        </div>
                    </div>

                    <!-- Poin Info -->
                    <div class="bg-gradient-to-r from-emerald-500 to-green-600 text-white p-3 md:p-4 rounded-xl shadow mt-3 md:mt-4">
                        <h3 class="font-bold mb-2 text-sm md:text-base">Poin Anda</h3>
                        <p class="text-xl md:text-2xl font-bold mb-2">12,450</p>
                        <p class="text-xs md:text-sm opacity-90">Cukup untuk 4 voucher belanja atau 5 paket pulsa</p>
                    </div>
                </div>

                <!-- Rewards Grid -->
                <div class="lg:col-span-3">
                    <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-4 md:mb-6 gap-2">
                        <h3 class="text-base md:text-lg font-semibold text-gray-800">Hadiah Tersedia</h3>
                        <div class="flex flex-col sm:flex-row gap-2">
                            <input type="text" placeholder="Cari hadiah..." class="border rounded-lg p-2 text-sm md:text-base form-input w-full sm:w-64">
                            <select class="border rounded-lg p-2 text-sm md:text-base form-select">
                                <option>Poin Terendah</option>
                                <option>Poin Tertinggi</option>
                                <option>Terbaru</option>
                                <option>Terpopuler</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4" id="rewardsGrid">
                        <!-- Rewards will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Profil Saya Page -->
        <div id="profil-saya" class="content-page">
            <h1 class="text-xl md:text-2xl font-bold mb-4 md:mb-6">Profil Saya</h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6">
                <!-- Profile Form -->
                <div class="lg:col-span-2">
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border mb-4 md:mb-6">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Informasi Pribadi</h3>
                        
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
                                <div>
                                    <label class="block text-gray-700 mb-2 text-sm md:text-base">Nama Lengkap</label>
                                    <input type="text" class="w-full border rounded-lg p-3 form-input" value="Tito Suryanto">
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2 text-sm md:text-base">Email</label>
                                    <input type="email" class="w-full border rounded-lg p-3 form-input" value="tito@email.com">
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
                                <div>
                                    <label class="block text-gray-700 mb-2 text-sm md:text-base">Telepon</label>
                                    <input type="tel" class="w-full border rounded-lg p-3 form-input" value="081234567890">
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2 text-sm md:text-base">Tanggal Lahir</label>
                                    <input type="date" class="w-full border rounded-lg p-3 form-input" value="1990-05-15">
                                </div>
                            </div>

                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Alamat</label>
                                <textarea class="w-full border rounded-lg p-3 form-textarea" rows="3">Jl. Merdeka No. 123, Jakarta Pusat</textarea>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
                                <div>
                                    <label class="block text-gray-700 mb-2 text-sm md:text-base">Bank Sampah Favorit</label>
                                    <select class="w-full border rounded-lg p-3 form-select">
                                        <option>Bank Sampah Hijau - Jakarta Pusat</option>
                                        <option>Bank Sampah Bersih - Jakarta Selatan</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2 text-sm md:text-base">Jenis Anggota</label>
                                    <input type="text" class="w-full border rounded-lg p-3 bg-gray-50" value="Member Silver" readonly>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Change Password -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Ubah Kata Sandi</h3>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Kata Sandi Lama</label>
                                <input type="password" class="w-full border rounded-lg p-3 form-input">
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Kata Sandi Baru</label>
                                <input type="password" class="w-full border rounded-lg p-3 form-input">
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-2 text-sm md:text-base">Konfirmasi Kata Sandi Baru</label>
                                <input type="password" class="w-full border rounded-lg p-3 form-input">
                            </div>
                            <button class="bg-emerald-600 text-white px-4 md:px-6 py-3 rounded-lg font-medium hover:bg-emerald-700 transition text-sm md:text-base">
                                Simpan Perubahan
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Profile Sidebar -->
                <div>
                    <!-- Profile Photo -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border mb-4 md:mb-6">
                        <div class="flex flex-col items-center">
                            <div class="w-24 h-24 md:w-32 md:h-32 rounded-full bg-gradient-to-br from-emerald-400 to-green-500 text-white flex items-center justify-center text-2xl md:text-4xl font-bold mb-4">
                                T
                            </div>
                            <h3 class="font-bold text-gray-800 text-base md:text-lg">Tito Suryanto</h3>
                            <p class="text-gray-600 text-sm md:text-base">Anggota sejak 15 Maret 2024</p>
                            <button class="mt-4 text-emerald-600 hover:text-emerald-800 text-sm md:text-base">
                                <i class="fas fa-camera mr-2"></i> Ubah Foto
                            </button>
                        </div>
                    </div>

                    <!-- Member Stats -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border mb-4 md:mb-6">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">Statistik Anggota</h3>
                        
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Level</span>
                                <span class="font-medium text-sm md:text-base">Silver</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Total Setoran</span>
                                <span class="font-medium text-sm md:text-base">47 kali</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Sampah Didaur Ulang</span>
                                <span class="font-medium text-sm md:text-base">128 kg</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Poin Saat Ini</span>
                                <span class="font-bold text-emerald-600 text-sm md:text-base">12,450</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600 text-sm md:text-base">Peringkat</span>
                                <span class="font-medium text-sm md:text-base">#24</span>
                            </div>
                        </div>

                        <div class="mt-4 md:mt-6 pt-4 border-t">
                            <div class="flex justify-between mb-1 text-xs md:text-sm">
                                <span>Menuju Level Gold</span>
                                <span>65%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-amber-500 h-2 rounded-full" style="width: 65%"></div>
                            </div>
                            <p class="text-xs text-gray-500 mt-2">Butuh 3,550 poin lagi untuk naik level</p>
                        </div>
                    </div>

                    <!-- Badges -->
                    <div class="bg-white p-4 md:p-6 rounded-xl shadow border">
                        <h3 class="font-bold text-gray-800 mb-4 text-sm md:text-base">üèÖ Lencana</h3>
                        <div class="grid grid-cols-3 gap-2 md:gap-3">
                            <div class="text-center p-2 md:p-3 bg-emerald-50 rounded-lg">
                                <i class="fas fa-leaf text-emerald-600 text-lg md:text-xl mb-1"></i>
                                <p class="text-xs font-medium">Ramah Lingkungan</p>
                            </div>
                            <div class="text-center p-2 md:p-3 bg-blue-50 rounded-lg">
                                <i class="fas fa-calendar-check text-blue-600 text-lg md:text-xl mb-1"></i>
                                <p class="text-xs font-medium">Konsisten</p>
                            </div>
                            <div class="text-center p-2 md:p-3 bg-amber-50 rounded-lg">
                                <i class="fas fa-bolt text-amber-600 text-lg md:text-xl mb-1"></i>
                                <p class="text-xs font-medium">Aktif</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
// Initialize data
let currentPoints = 12450;
let selectedWasteType = null;
let pointsPerKg = 0;

// Sample data for charts
const sampleData = {
    activity: {
        labels: ['Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab', 'Min'],
        data: [30, 45, 25, 60, 40, 55, 35]
    },
    pointsHistory: {
        labels: ['Sep', 'Okt', 'Nov', 'Des', 'Jan', 'Feb'],
        data: [8500, 9200, 9800, 10500, 11500, 12450]
    },
    monthly: {
        labels: ['Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des', 'Jan', 'Feb'],
        data: [80, 95, 110, 85, 120, 105, 130, 145, 120, 135, 150, 140]
    },
    waste: {
        labels: ['Plastik', 'Kertas', 'Kaca', 'Logam', 'Organik'],
        data: [45, 25, 15, 10, 5]
    },
    transactions: [
        { date: '2024-03-15', type: 'setoran', desc: 'Setor Plastik', weight: '2.5 kg', points: '+50', status: 'selesai' },
        { date: '2024-03-14', type: 'setoran', desc: 'Setor Kaca', weight: '1.8 kg', points: '+30', status: 'selesai' },
        { date: '2024-03-10', type: 'penukaran', desc: 'Voucher Belanja', weight: '-', points: '-200', status: 'selesai' },
        { date: '2024-03-05', type: 'setoran', desc: 'Setor Kertas', weight: '4.2 kg', points: '+40', status: 'selesai' },
        { date: '2024-03-01', type: 'donasi', desc: 'Donasi Lingkungan', weight: '-', points: '-100', status: 'selesai' },
        { date: '2024-02-28', type: 'setoran', desc: 'Setor Logam', weight: '3.0 kg', points: '+90', status: 'selesai' },
        { date: '2024-02-25', type: 'setoran', desc: 'Setor Plastik', weight: '5.0 kg', points: '+100', status: 'selesai' },
        { date: '2024-02-20', type: 'penukaran', desc: 'Paket Data 5GB', weight: '-', points: '-300', status: 'selesai' },
        { date: '2024-02-15', type: 'setoran', desc: 'Setor Kertas', weight: '3.5 kg', points: '+35', status: 'selesai' },
        { date: '2024-02-10', type: 'setoran', desc: 'Setor Kaca', weight: '2.0 kg', points: '+30', status: 'selesai' }
    ],
    rewards: [
        { id: 1, category: 'voucher', name: 'Voucher Belanja Rp 50.000', points: 5000, image: 'üõçÔ∏è' },
        { id: 2, category: 'pulsa', name: 'Pulsa 25.000 All Operator', points: 2500, image: 'üì±' },
        { id: 3, category: 'pulsa', name: 'Paket Data 5GB (30 hari)', points: 3000, image: 'üì∂' },
        { id: 4, category: 'donasi', name: 'Donasi Penanaman Pohon', points: 1000, image: 'üå±' },
        { id: 5, category: 'produk', name: 'Tumbler Ramah Lingkungan', points: 3500, image: 'ü•§' },
        { id: 6, category: 'voucher', name: 'Voucher Makanan Rp 30.000', points: 3000, image: 'üçî' },
        { id: 7, category: 'produk', name: 'Totebag Kain Daur Ulang', points: 2000, image: 'üëú' },
        { id: 8, category: 'donasi', name: 'Donasi Bersih-bersih Pantai', points: 1500, image: 'üèñÔ∏è' },
        { id: 9, category: 'voucher', name: 'Voucher Gojek Rp 20.000', points: 2000, image: 'üèçÔ∏è' }
    ]
};

// DOM Elements
const menuToggle = document.getElementById('menuToggle');
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
const notifBtn = document.getElementById('notifBtn');
const notifDropdown = document.getElementById('notifDropdown');
const quickSetorBtn = document.getElementById('quickSetorSampah');
const weightSlider = document.getElementById('weightSlider');
const weightValue = document.getElementById('weightValue');
const typeButtons = document.querySelectorAll('.type-btn');
const submitSetorBtn = document.getElementById('submitSetor');
const transactionTable = document.getElementById('transactionTable');
const rewardsGrid = document.getElementById('rewardsGrid');

// Initialize Charts
function initCharts() {
    // Activity Chart
    const activityCtx = document.getElementById('activityChart').getContext('2d');
    new Chart(activityCtx, {
        type: 'line',
        data: {
            labels: sampleData.activity.labels,
            datasets: [{
                label: 'Poin',
                data: sampleData.activity.data,
                borderColor: '#10b981',
                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                tension: 0.4,
                fill: true,
                borderWidth: 2
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { 
                legend: { 
                    display: false 
                },
                tooltip: {
                    mode: 'index',
                    intersect: false
                }
            },
            scales: {
                y: { 
                    beginAtZero: true, 
                    grid: { display: true },
                    ticks: {
                        font: {
                            size: window.innerWidth < 768 ? 10 : 12
                        }
                    }
                },
                x: { 
                    grid: { display: false },
                    ticks: {
                        font: {
                            size: window.innerWidth < 768 ? 10 : 12
                        }
                    }
                }
            },
            interaction: {
                intersect: false,
                mode: 'nearest'
            }
        }
    });

    // Points History Chart
    const pointsCtx = document.getElementById('pointsChart').getContext('2d');
    new Chart(pointsCtx, {
        type: 'bar',
        data: {
            labels: sampleData.pointsHistory.labels,
            datasets: [{
                label: 'Total Poin',
                data: sampleData.pointsHistory.data,
                backgroundColor: '#10b981',
                borderRadius: 4,
                borderSkipped: false,
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { 
                legend: { display: false } 
            },
            scales: {
                y: {
                    ticks: {
                        font: {
                            size: window.innerWidth < 768 ? 10 : 12
                        }
                    }
                },
                x: {
                    ticks: {
                        font: {
                            size: window.innerWidth < 768 ? 10 : 12
                        }
                    }
                }
            }
        }
    });

    // Monthly Chart
    const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
    new Chart(monthlyCtx, {
        type: 'bar',
        data: {
            labels: sampleData.monthly.labels,
            datasets: [{
                label: 'Poin per Bulan',
                data: sampleData.monthly.data,
                backgroundColor: 'rgba(16, 185, 129, 0.7)',
                borderColor: '#10b981',
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false,
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { 
                legend: { display: false } 
            },
            scales: {
                y: {
                    ticks: {
                        font: {
                            size: window.innerWidth < 768 ? 10 : 12
                        }
                    }
                },
                x: {
                    ticks: {
                        font: {
                            size: window.innerWidth < 768 ? 10 : 12
                        },
                        maxRotation: 45,
                        minRotation: 45
                    }
                }
            }
        }
    });

    // Waste Composition Chart
    const wasteCtx = document.getElementById('wasteChart').getContext('2d');
    new Chart(wasteCtx, {
        type: 'doughnut',
        data: {
            labels: sampleData.waste.labels,
            datasets: [{
                data: sampleData.waste.data,
                backgroundColor: [
                    '#3b82f6', // Blue
                    '#10b981', // Emerald
                    '#8b5cf6', // Purple
                    '#f59e0b', // Amber
                    '#6b7280'  // Gray
                ],
                borderWidth: 1,
                borderColor: '#fff'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { 
                    position: window.innerWidth < 768 ? 'bottom' : 'right',
                    labels: {
                        font: {
                            size: window.innerWidth < 768 ? 10 : 12
                        },
                        padding: 15
                    }
                }
            },
            cutout: '50%'
        }
    });
}

// Populate Transactions Table
function populateTransactions() {
    transactionTable.innerHTML = '';
    sampleData.transactions.forEach(trans => {
        const row = document.createElement('tr');
        row.className = 'border-b hover:bg-gray-50';
        row.innerHTML = `
            <td class="p-3 md:p-4 text-xs md:text-sm">${trans.date}</td>
            <td class="p-3 md:p-4">
                <span class="px-2 py-1 text-xs rounded-full ${
                    trans.type === 'setoran' ? 'bg-emerald-100 text-emerald-800' :
                    trans.type === 'penukaran' ? 'bg-amber-100 text-amber-800' :
                    'bg-blue-100 text-blue-800'
                }">
                    ${trans.type}
                </span>
            </td>
            <td class="p-3 md:p-4 font-medium text-xs md:text-sm">${trans.desc}</td>
            <td class="p-3 md:p-4 text-xs md:text-sm">${trans.weight}</td>
            <td class="p-3 md:p-4 font-bold text-xs md:text-sm ${
                trans.points.startsWith('+') ? 'text-emerald-600' : 'text-amber-600'
            }">${trans.points}</td>
            <td class="p-3 md:p-4">
                <span class="px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full">
                    ${trans.status}
                </span>
            </td>
        `;
        transactionTable.appendChild(row);
    });
}

// Populate Rewards Grid
function populateRewards(category = 'all') {
    rewardsGrid.innerHTML = '';
    const filtered = category === 'all' 
        ? sampleData.rewards 
        : sampleData.rewards.filter(r => r.category === category);
    
    filtered.forEach(reward => {
        const card = document.createElement('div');
        card.className = 'bg-white rounded-xl shadow border overflow-hidden hover:shadow-md transition';
        card.innerHTML = `
            <div class="p-6 md:p-8 flex items-center justify-center text-3xl md:text-4xl bg-emerald-50">
                ${reward.image}
            </div>
            <div class="p-3 md:p-4">
                <h4 class="font-semibold text-gray-800 mb-2 text-sm md:text-base truncate">${reward.name}</h4>
                <div class="flex items-center justify-between">
                    <div class="min-w-0">
                        <p class="text-amber-600 font-bold text-sm md:text-base">${reward.points.toLocaleString()} poin</p>
                        <p class="text-xs text-gray-500 truncate">Poin Anda: ${currentPoints.toLocaleString()}</p>
                    </div>
                    <button class="tukar-btn px-3 md:px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition text-xs md:text-sm flex-shrink-0 ml-2" 
                            data-id="${reward.id}"
                            ${currentPoints < reward.points ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                        Tukar
                    </button>
                </div>
            </div>
        `;
        rewardsGrid.appendChild(card);
    });
}

// Event Listeners
document.addEventListener('DOMContentLoaded', function() {
    initCharts();
    populateTransactions();
    populateRewards();
    
    // Sidebar toggle
    menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
        document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : '';
    });

    overlay.addEventListener('click', () => {
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Close sidebar when clicking on a link (mobile)
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            if (window.innerWidth < 768) {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
    });

    // Notification dropdown
    notifBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        notifDropdown.classList.toggle('hidden');
    });

    document.addEventListener('click', (e) => {
        if (!notifBtn.contains(e.target) && !notifDropdown.contains(e.target)) {
            notifDropdown.classList.add('hidden');
        }
    });

    // Navigation
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const pageId = this.getAttribute('data-page');

            document.querySelectorAll('.nav-link').forEach(item => item.classList.remove('active'));
            this.classList.add('active');

            document.querySelectorAll('.content-page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');

            // Update page title
            const pageTitle = this.querySelector('span').textContent;
            document.getElementById('pageTitle').textContent = pageTitle;

            // Scroll to top on page change
            window.scrollTo(0, 0);
        });
    });

    // Quick setor button
    quickSetorBtn.addEventListener('click', () => {
        document.querySelector('[data-page="setor-sampah"]').click();
    });

    // Weight slider
    weightSlider.addEventListener('input', function() {
        weightValue.textContent = this.value + ' kg';
        updateSetorSummary();
    });

    // Waste type selection
    typeButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            typeButtons.forEach(b => {
                b.classList.remove('border-emerald-500', 'bg-emerald-50');
                b.classList.add('border-gray-200');
            });
            this.classList.remove('border-gray-200');
            this.classList.add('border-emerald-500', 'bg-emerald-50');
            
            selectedWasteType = this.getAttribute('data-type');
            pointsPerKg = parseInt(this.getAttribute('data-points'));
            updateSetorSummary();
        });
    });

    // Setor submission
    submitSetorBtn.addEventListener('click', function() {
        if (!selectedWasteType) {
            alert('Pilih jenis sampah terlebih dahulu!');
            return;
        }
        
        const weight = parseFloat(weightSlider.value);
        const totalPoints = weight * pointsPerKg;
        
        // Show success modal
        const modalHtml = `
            <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                <div class="bg-white rounded-xl p-6 max-w-md w-full">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-check text-emerald-600 text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Setor Sampah Berhasil!</h3>
                        <div class="text-left bg-gray-50 p-4 rounded-lg mb-4">
                            <p class="mb-1"><strong>Jenis:</strong> ${selectedWasteType.charAt(0).toUpperCase() + selectedWasteType.slice(1)}</p>
                            <p class="mb-1"><strong>Berat:</strong> ${weight} kg</p>
                            <p><strong>Poin didapat:</strong> ${totalPoints} poin</p>
                        </div>
                        <p class="text-gray-600 mb-6">Setoran Anda akan diverifikasi oleh petugas bank sampah.</p>
                        <button onclick="this.closest('.fixed').remove()" class="btn-primary w-full text-white py-3 rounded-lg font-semibold">
                            Tutup
                        </button>
                    </div>
                </div>
            </div>
        `;
        document.body.insertAdjacentHTML('beforeend', modalHtml);
        
        // Reset form
        typeButtons.forEach(b => {
            b.classList.remove('border-emerald-500', 'bg-emerald-50');
            b.classList.add('border-gray-200');
        });
        weightSlider.value = 2;
        weightValue.textContent = '2 kg';
        selectedWasteType = null;
        pointsPerKg = 0;
        updateSetorSummary();
    });

    // Reward category filter
    document.querySelectorAll('.category-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.category-btn').forEach(b => {
                b.classList.remove('bg-emerald-50', 'text-emerald-700');
            });
            this.classList.add('bg-emerald-50', 'text-emerald-700');
            populateRewards(this.getAttribute('data-category'));
        });
    });

    // Reward exchange
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('tukar-btn') || e.target.closest('.tukar-btn')) {
            const btn = e.target.classList.contains('tukar-btn') ? e.target : e.target.closest('.tukar-btn');
            const rewardId = btn.getAttribute('data-id');
            const reward = sampleData.rewards.find(r => r.id == rewardId);
            
            if (currentPoints >= reward.points) {
                if (confirm(`Tukar ${reward.points} poin untuk "${reward.name}"?`)) {
                    currentPoints -= reward.points;
                    alert(`Penukaran berhasil! Poin Anda sekarang: ${currentPoints.toLocaleString()}`);
                    populateRewards();
                }
            } else {
                alert('Poin tidak mencukupi!');
            }
        }
    });

    // Logout button
    document.getElementById('logoutBtn').addEventListener('click', function() {
        if (confirm('Apakah Anda yakin ingin keluar?')) {
            alert('Anda telah logout dari sistem TrashPoint');
            // In real app, this would redirect to login page
        }
    });

    // Handle window resize for charts
    let resizeTimer;
    window.addEventListener('resize', function() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function() {
            // Reinitialize charts on resize
            const chartIds = ['activityChart', 'pointsChart', 'monthlyChart', 'wasteChart'];
            chartIds.forEach(id => {
                const canvas = document.getElementById(id);
                if (canvas) {
                    const parent = canvas.parentNode;
                    const newCanvas = document.createElement('canvas');
                    newCanvas.id = id;
                    parent.innerHTML = '';
                    parent.appendChild(newCanvas);
                }
            });
            initCharts();
        }, 250);
    });

    // Add some initial notification count
    document.getElementById('notifCount').style.display = 'block';
});

// Update setor summary
function updateSetorSummary() {
    document.getElementById('selectedType').textContent = 
        selectedWasteType ? selectedWasteType.charAt(0).toUpperCase() + selectedWasteType.slice(1) : '-';
    document.getElementById('summaryWeight').textContent = weightSlider.value + ' kg';
    document.getElementById('pointsPerKg').textContent = pointsPerKg ? pointsPerKg + ' poin/kg' : '-';
    
    if (selectedWasteType && pointsPerKg) {
        const total = parseFloat(weightSlider.value) * pointsPerKg;
        document.getElementById('totalPoints').textContent = total + ' poin';
        document.getElementById('submitSetor').disabled = false;
    } else {
        document.getElementById('totalPoints').textContent = '0 poin';
        document.getElementById('submitSetor').disabled = true;
    }
}

// Prevent zoom on input focus on mobile
document.addEventListener('touchstart', function(event) {
    if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.tagName === 'SELECT') {
        event.target.style.fontSize = '16px';
    }
}, true);
</script>

</body>
</html>